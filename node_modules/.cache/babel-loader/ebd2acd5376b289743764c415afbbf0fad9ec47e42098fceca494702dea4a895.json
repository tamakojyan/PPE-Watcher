{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tamak\\\\Desktop\\\\Workspace\\\\ppe-watcher\\\\src\\\\pages\\\\History\\\\Trends\\\\index.tsx\",\n  _s = $RefreshSig$();\nimport { Chip, Grid, Stack, Typography, Divider, Button, Box } from '@mui/material';\nimport { useTheme } from '@mui/material';\nimport { mockViolations } from 'mock/violations';\nimport { ResponsiveContainer, BarChart, Bar, CartesianGrid, XAxis, YAxis, Tooltip, Legend, LineChart, Line, PieChart, Pie, Cell } from 'recharts';\nimport { format, startOfDay } from 'date-fns';\nimport { useMemo, useState } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst allTypes = ['No Mask', 'No Helmet', 'No Vest', 'No Gloves'];\nfunction groupByDay(violations) {\n  const map = new Map();\n  for (const v of violations) {\n    const d = startOfDay(new Date(v.timestamp));\n    const key = format(d, 'yyyy-MM-dd');\n    if (!map.has(key)) {\n      map.set(key, {\n        date: key,\n        total: 0,\n        open: 0,\n        resolved: 0,\n        byType: Object.fromEntries(allTypes.map(t => [t, 0]))\n      });\n    }\n    const bucket = map.get(key);\n    bucket.total += 1;\n    if (v.status === 'open') bucket.open += 1;else if (v.status === 'resolved') bucket.resolved += 1;\n    v.type.forEach(t => bucket.byType[t] += 1);\n  }\n  return Array.from(map.values()).sort((a, b) => a.date.localeCompare(b.date));\n}\nexport default function Trends() {\n  _s();\n  var _buckets$at;\n  const theme = useTheme();\n  const pieColors = [theme.palette.primary.main, theme.palette.secondary.main, theme.palette.warning.main, theme.palette.info.main, theme.palette.success.main, theme.palette.error.main];\n  const colorOpen = theme.palette.error.main;\n  const colorResolved = theme.palette.success.main;\n  const colorTotal = theme.palette.primary.main;\n  const buckets = useMemo(() => groupByDay(mockViolations), []);\n  const [selected, setSelected] = useState((_buckets$at = buckets.at(-1)) !== null && _buckets$at !== void 0 ? _buckets$at : null);\n  const [chartType, setChartType] = useState('line');\n  const pieData = useMemo(() => {\n    if (!selected) return [];\n    return Object.entries(selected.byType).map(([name, value]) => ({\n      name,\n      value\n    })).filter(d => d.value > 0);\n  }, [selected]);\n  const CustomHoverTooltip = ({\n    active,\n    label\n  }) => {\n    if (active && label) {\n      const b = buckets.find(d => d.date === label);\n      if (b && (selected === null || selected === void 0 ? void 0 : selected.date) !== b.date) {\n        setSelected(b);\n      }\n    }\n    return null; // 我们用右侧 details 显示信息，这里隐藏 Tooltip 面板\n  };\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    container: true,\n    sx: {\n      flex: 1,\n      minHeight: 0,\n      bgcolor: 'background.paper'\n    },\n    direction: \"column\",\n    children: [/*#__PURE__*/_jsxDEV(Grid, {\n      size: {\n        xs: 12\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        variant: 'h6',\n        children: \"Trends\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      size: {\n        xs: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        size: {\n          xs: 12\n        },\n        sx: {\n          borderTop: '1px solid',\n          borderBottom: '1px solid'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          size: {\n            xs: 6,\n            md: 10\n          },\n          children: /*#__PURE__*/_jsxDEV(Stack, {\n            direction: \"row\",\n            spacing: 2,\n            sx: {\n              mb: 2\n            },\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: chartType === 'line' ? 'contained' : 'outlined',\n              onClick: () => setChartType('line'),\n              children: \"Line Chart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: chartType === 'bar' ? 'contained' : 'outlined',\n              onClick: () => setChartType('bar'),\n              children: \"Bar Chart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          size: {\n            xs: 6,\n            md: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            children: \"Generate\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            children: \"Export\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        size: {\n          xs: 12\n        },\n        children: /*#__PURE__*/_jsxDEV(Chip, {\n          label: 'TOOlBAR'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      size: {\n        xs: 12\n      },\n      sx: {\n        flex: 1,\n        minHeight: 0\n      },\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        size: {\n          xs: 12,\n          md: 8\n        },\n        sx: {\n          borderRight: '1px solid'\n        },\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            flex: 1,\n            minWidth: 0\n          },\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              height: '700px',\n              pt: '150px'\n            },\n            children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n              width: \"100%\",\n              height: \"100%\",\n              children: chartType === 'line' ? /*#__PURE__*/_jsxDEV(LineChart, {\n                data: buckets,\n                margin: {\n                  top: 8,\n                  right: 16,\n                  bottom: 12,\n                  left: 0\n                },\n                children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                  strokeDasharray: \"3 3\",\n                  strokeOpacity: 0.25\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                  dataKey: \"date\",\n                  height: 40,\n                  angle: -30,\n                  textAnchor: \"end\",\n                  interval: \"preserveEnd\",\n                  tick: {\n                    fontSize: 12,\n                    fill: theme.palette.text.secondary\n                  },\n                  axisLine: {\n                    stroke: theme.palette.divider\n                  },\n                  tickLine: {\n                    stroke: theme.palette.divider\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                  allowDecimals: false,\n                  tick: {\n                    fontSize: 12,\n                    fill: theme.palette.text.secondary\n                  },\n                  axisLine: {\n                    stroke: theme.palette.divider\n                  },\n                  tickLine: {\n                    stroke: theme.palette.divider\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                  content: /*#__PURE__*/_jsxDEV(CustomHoverTooltip, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 166,\n                    columnNumber: 39\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Legend, {\n                  verticalAlign: \"top\",\n                  height: 24\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Line, {\n                  type: \"monotone\",\n                  dataKey: \"open\",\n                  name: \"Open\",\n                  stroke: colorOpen,\n                  strokeWidth: 2,\n                  dot: false\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Line, {\n                  type: \"monotone\",\n                  dataKey: \"resolved\",\n                  name: \"Resolved\",\n                  stroke: colorResolved,\n                  strokeWidth: 2,\n                  dot: false\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Line, {\n                  type: \"monotone\",\n                  dataKey: \"total\",\n                  name: \"Total\",\n                  stroke: colorTotal,\n                  strokeWidth: 2,\n                  dot: false\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(BarChart, {\n                data: data,\n                margin: {\n                  top: 8,\n                  right: 16,\n                  bottom: 12,\n                  left: 0\n                },\n                barGap: 6,\n                children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                  strokeDasharray: \"3 3\",\n                  strokeOpacity: 0.25\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                  dataKey: \"date\",\n                  height: 40,\n                  angle: -30,\n                  textAnchor: \"end\",\n                  interval: \"preserveEnd\",\n                  tick: {\n                    fontSize: 12,\n                    fill: theme.palette.text.secondary\n                  },\n                  axisLine: {\n                    stroke: theme.palette.divider\n                  },\n                  tickLine: {\n                    stroke: theme.palette.divider\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                  allowDecimals: false,\n                  tick: {\n                    fontSize: 12,\n                    fill: theme.palette.text.secondary\n                  },\n                  axisLine: {\n                    stroke: theme.palette.divider\n                  },\n                  tickLine: {\n                    stroke: theme.palette.divider\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                  content: /*#__PURE__*/_jsxDEV(CustomHoverTooltip, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 216,\n                    columnNumber: 39\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Legend, {\n                  verticalAlign: \"top\",\n                  height: 24\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                  dataKey: \"open\",\n                  name: \"Open\",\n                  fill: colorOpen\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                  dataKey: \"resolved\",\n                  name: \"Resolved\",\n                  fill: colorResolved\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                  dataKey: \"total\",\n                  name: \"Total\",\n                  fill: colorTotal\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        size: {\n          xs: 12,\n          md: 4\n        },\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            height: '100%',\n            bgcolor: 'background.paper',\n            borderRadius: 2,\n            boxShadow: 2,\n            p: 2,\n            display: 'flex',\n            flexDirection: 'column',\n            gap: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            children: \"Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this), selected ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              children: \"Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              sx: {\n                mb: 1\n              },\n              children: selected.date\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Stack, {\n              direction: \"row\",\n              spacing: 2,\n              sx: {\n                my: 1\n              },\n              children: [/*#__PURE__*/_jsxDEV(Stack, {\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  color: \"text.secondary\",\n                  children: \"Total\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h6\",\n                  color: \"primary\",\n                  children: selected.total\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Stack, {\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  color: \"text.secondary\",\n                  children: \"Open\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h6\",\n                  sx: {\n                    color: colorOpen\n                  },\n                  children: selected.open\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Stack, {\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  color: \"text.secondary\",\n                  children: \"Resolved\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h6\",\n                  sx: {\n                    color: colorResolved\n                  },\n                  children: selected.resolved\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 273,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Divider, {\n              sx: {\n                my: 1\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle2\",\n              children: \"By Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                flex: 1,\n                minHeight: 0\n              },\n              children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n                width: \"100%\",\n                height: \"100%\",\n                children: /*#__PURE__*/_jsxDEV(PieChart, {\n                  children: [/*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 286,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Legend, {\n                    verticalAlign: \"bottom\",\n                    height: 28\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 287,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Pie, {\n                    data: pieData,\n                    dataKey: \"value\",\n                    nameKey: \"name\",\n                    outerRadius: \"80%\",\n                    label: true,\n                    children: pieData.map((_, i) => /*#__PURE__*/_jsxDEV(Cell, {\n                      fill: pieColors[i % pieColors.length]\n                    }, i, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 290,\n                      columnNumber: 27\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 288,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 285,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(Typography, {\n            color: \"text.secondary\",\n            children: \"Hover a day to see details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 5\n  }, this);\n}\n_s(Trends, \"23JwtvnoC2DggOnTZdxv6kf4yQ0=\", false, function () {\n  return [useTheme];\n});\n_c = Trends;\nvar _c;\n$RefreshReg$(_c, \"Trends\");","map":{"version":3,"names":["Chip","Grid","Stack","Typography","Divider","Button","Box","useTheme","mockViolations","ResponsiveContainer","BarChart","Bar","CartesianGrid","XAxis","YAxis","Tooltip","Legend","LineChart","Line","PieChart","Pie","Cell","format","startOfDay","useMemo","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","allTypes","groupByDay","violations","map","Map","v","d","Date","timestamp","key","has","set","date","total","open","resolved","byType","Object","fromEntries","t","bucket","get","status","type","forEach","Array","from","values","sort","a","b","localeCompare","Trends","_s","_buckets$at","theme","pieColors","palette","primary","main","secondary","warning","info","success","error","colorOpen","colorResolved","colorTotal","buckets","selected","setSelected","at","chartType","setChartType","pieData","entries","name","value","filter","CustomHoverTooltip","active","label","find","container","sx","flex","minHeight","bgcolor","direction","children","size","xs","variant","fileName","_jsxFileName","lineNumber","columnNumber","borderTop","borderBottom","md","spacing","mb","onClick","borderRight","minWidth","height","pt","width","data","margin","top","right","bottom","left","strokeDasharray","strokeOpacity","dataKey","angle","textAnchor","interval","tick","fontSize","fill","text","axisLine","stroke","divider","tickLine","allowDecimals","content","verticalAlign","strokeWidth","dot","barGap","borderRadius","boxShadow","p","display","flexDirection","gap","color","my","nameKey","outerRadius","_","i","length","_c","$RefreshReg$"],"sources":["C:/Users/tamak/Desktop/Workspace/ppe-watcher/src/pages/History/Trends/index.tsx"],"sourcesContent":["import * as react from 'react';\nimport {\n  Chip,\n  Grid,\n  Stack,\n  Card,\n  CardHeader,\n  CardContent,\n  Typography,\n  Divider,\n  Button,\n  Box,\n} from '@mui/material';\nimport { useTheme } from '@mui/material';\nimport { mockViolations } from 'mock/violations';\nimport {\n  ResponsiveContainer,\n  BarChart,\n  Bar,\n  CartesianGrid,\n  XAxis,\n  YAxis,\n  Tooltip,\n  Legend,\n  LineChart,\n  Line,\n  PieChart,\n  Pie,\n  Cell,\n} from 'recharts';\nimport { format, startOfDay } from 'date-fns';\nimport { useMemo, useState } from 'react';\ntype violationData = {\n  id: string;\n  type: string[];\n  status: string;\n  handler: null | string;\n  timestamp: string;\n  imageUrl: string;\n};\nconst allTypes = ['No Mask', 'No Helmet', 'No Vest', 'No Gloves'] as const;\ntype PPEType = (typeof allTypes)[number];\ntype bucket = {\n  date: string;\n  total: number;\n  open: number;\n  resolved: number;\n  byType: Record<PPEType, number>;\n};\n\nfunction groupByDay(violations: violationData[]): bucket[] {\n  const map = new Map<string, bucket>();\n  for (const v of violations) {\n    const d = startOfDay(new Date(v.timestamp));\n    const key = format(d, 'yyyy-MM-dd');\n    if (!map.has(key)) {\n      map.set(key, {\n        date: key,\n        total: 0,\n        open: 0,\n        resolved: 0,\n        byType: Object.fromEntries(allTypes.map((t) => [t, 0])) as Record<string, number>,\n      });\n    }\n    const bucket = map.get(key)!;\n    bucket.total += 1;\n    if (v.status === 'open') bucket.open += 1;\n    else if (v.status === 'resolved') bucket.resolved += 1;\n    v.type.forEach((t) => (bucket.byType[t as PPEType] += 1));\n  }\n  return Array.from(map.values()).sort((a, b) => a.date.localeCompare(b.date));\n}\nexport default function Trends(): React.ReactElement {\n  const theme = useTheme();\n  const pieColors = [\n    theme.palette.primary.main,\n    theme.palette.secondary.main,\n    theme.palette.warning.main,\n    theme.palette.info.main,\n    theme.palette.success.main,\n    theme.palette.error.main,\n  ];\n  const colorOpen = theme.palette.error.main;\n  const colorResolved = theme.palette.success.main;\n  const colorTotal = theme.palette.primary.main;\n  const buckets = useMemo(() => groupByDay(mockViolations), []);\n  const [selected, setSelected] = useState<bucket | null>(buckets.at(-1) ?? null);\n  const [chartType, setChartType] = useState<'line' | 'bar'>('line');\n  const pieData = useMemo(() => {\n    if (!selected) return [];\n    return Object.entries(selected.byType)\n      .map(([name, value]) => ({ name, value }))\n      .filter((d) => d.value > 0);\n  }, [selected]);\n  const CustomHoverTooltip = ({ active, label }: any) => {\n    if (active && label) {\n      const b = buckets.find((d) => d.date === label);\n      if (b && selected?.date !== b.date) {\n        setSelected(b);\n      }\n    }\n    return null; // 我们用右侧 details 显示信息，这里隐藏 Tooltip 面板\n  };\n\n  return (\n    <Grid container sx={{ flex: 1, minHeight: 0, bgcolor: 'background.paper' }} direction=\"column\">\n      <Grid size={{ xs: 12 }}>\n        <Typography variant={'h6'}>Trends</Typography>\n      </Grid>\n      <Grid container size={{ xs: 12 }}>\n        <Grid\n          container\n          size={{ xs: 12 }}\n          sx={{ borderTop: '1px solid', borderBottom: '1px solid' }}\n        >\n          <Grid size={{ xs: 6, md: 10 }}>\n            <Stack direction=\"row\" spacing={2} sx={{ mb: 2 }}>\n              <Button\n                variant={chartType === 'line' ? 'contained' : 'outlined'}\n                onClick={() => setChartType('line')}\n              >\n                Line Chart\n              </Button>\n              <Button\n                variant={chartType === 'bar' ? 'contained' : 'outlined'}\n                onClick={() => setChartType('bar')}\n              >\n                Bar Chart\n              </Button>\n            </Stack>\n          </Grid>\n          <Grid size={{ xs: 6, md: 2 }}>\n            <Button>Generate</Button>\n            <Button>Export</Button>\n          </Grid>\n        </Grid>\n        <Grid size={{ xs: 12 }}>\n          <Chip label={'TOOlBAR'} />\n        </Grid>\n      </Grid>\n      <Grid container size={{ xs: 12 }} sx={{ flex: 1, minHeight: 0 }}>\n        <Grid size={{ xs: 12, md: 8 }} sx={{ borderRight: '1px solid' }}>\n          <Box sx={{ flex: 1, minWidth: 0 }}>\n            {/* 柱状图（堆叠：open/resolved） */}\n            <Box sx={{ height: '700px', pt: '150px' }}>\n              <ResponsiveContainer width=\"100%\" height=\"100%\">\n                {chartType === 'line' ? (\n                  <LineChart data={buckets} margin={{ top: 8, right: 16, bottom: 12, left: 0 }}>\n                    <CartesianGrid strokeDasharray=\"3 3\" strokeOpacity={0.25} />\n                    <XAxis\n                      dataKey=\"date\"\n                      height={40}\n                      angle={-30}\n                      textAnchor=\"end\"\n                      interval=\"preserveEnd\"\n                      tick={{ fontSize: 12, fill: theme.palette.text.secondary }}\n                      axisLine={{ stroke: theme.palette.divider }}\n                      tickLine={{ stroke: theme.palette.divider }}\n                    />\n                    <YAxis\n                      allowDecimals={false}\n                      tick={{ fontSize: 12, fill: theme.palette.text.secondary }}\n                      axisLine={{ stroke: theme.palette.divider }}\n                      tickLine={{ stroke: theme.palette.divider }}\n                    />\n                    <Tooltip content={<CustomHoverTooltip />} />\n                    <Legend verticalAlign=\"top\" height={24} />\n                    <Line\n                      type=\"monotone\"\n                      dataKey=\"open\"\n                      name=\"Open\"\n                      stroke={colorOpen}\n                      strokeWidth={2}\n                      dot={false}\n                    />\n                    <Line\n                      type=\"monotone\"\n                      dataKey=\"resolved\"\n                      name=\"Resolved\"\n                      stroke={colorResolved}\n                      strokeWidth={2}\n                      dot={false}\n                    />\n                    <Line\n                      type=\"monotone\"\n                      dataKey=\"total\"\n                      name=\"Total\"\n                      stroke={colorTotal}\n                      strokeWidth={2}\n                      dot={false}\n                    />\n                  </LineChart>\n                ) : (\n                  <BarChart\n                    data={data}\n                    margin={{ top: 8, right: 16, bottom: 12, left: 0 }}\n                    barGap={6}\n                  >\n                    <CartesianGrid strokeDasharray=\"3 3\" strokeOpacity={0.25} />\n                    <XAxis\n                      dataKey=\"date\"\n                      height={40}\n                      angle={-30}\n                      textAnchor=\"end\"\n                      interval=\"preserveEnd\"\n                      tick={{ fontSize: 12, fill: theme.palette.text.secondary }}\n                      axisLine={{ stroke: theme.palette.divider }}\n                      tickLine={{ stroke: theme.palette.divider }}\n                    />\n                    <YAxis\n                      allowDecimals={false}\n                      tick={{ fontSize: 12, fill: theme.palette.text.secondary }}\n                      axisLine={{ stroke: theme.palette.divider }}\n                      tickLine={{ stroke: theme.palette.divider }}\n                    />\n                    <Tooltip content={<CustomHoverTooltip />} />\n                    <Legend verticalAlign=\"top\" height={24} />\n                    <Bar dataKey=\"open\" name=\"Open\" fill={colorOpen} />\n                    <Bar dataKey=\"resolved\" name=\"Resolved\" fill={colorResolved} />\n                    <Bar dataKey=\"total\" name=\"Total\" fill={colorTotal} />\n                  </BarChart>\n                )}\n              </ResponsiveContainer>\n            </Box>\n          </Box>\n        </Grid>\n        <Grid size={{ xs: 12, md: 4 }}>\n          <Box\n            sx={{\n              height: '100%',\n              bgcolor: 'background.paper',\n              borderRadius: 2,\n              boxShadow: 2,\n              p: 2,\n              display: 'flex',\n              flexDirection: 'column',\n              gap: 1,\n            }}\n          >\n            <Typography variant=\"subtitle1\">Details</Typography>\n            <Divider />\n\n            {selected ? (\n              <>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  Date\n                </Typography>\n                <Typography variant=\"h6\" sx={{ mb: 1 }}>\n                  {selected.date}\n                </Typography>\n\n                <Stack direction=\"row\" spacing={2} sx={{ my: 1 }}>\n                  <Stack>\n                    <Typography variant=\"caption\" color=\"text.secondary\">\n                      Total\n                    </Typography>\n                    <Typography variant=\"h6\" color=\"primary\">\n                      {selected.total}\n                    </Typography>\n                  </Stack>\n                  <Stack>\n                    <Typography variant=\"caption\" color=\"text.secondary\">\n                      Open\n                    </Typography>\n                    <Typography variant=\"h6\" sx={{ color: colorOpen }}>\n                      {selected.open}\n                    </Typography>\n                  </Stack>\n                  <Stack>\n                    <Typography variant=\"caption\" color=\"text.secondary\">\n                      Resolved\n                    </Typography>\n                    <Typography variant=\"h6\" sx={{ color: colorResolved }}>\n                      {selected.resolved}\n                    </Typography>\n                  </Stack>\n                </Stack>\n\n                <Divider sx={{ my: 1 }} />\n                <Typography variant=\"subtitle2\">By Type</Typography>\n\n                {/* 饼图区域占满剩余高度 */}\n                <Box sx={{ flex: 1, minHeight: 0 }}>\n                  <ResponsiveContainer width=\"100%\" height=\"100%\">\n                    <PieChart>\n                      <Tooltip />\n                      <Legend verticalAlign=\"bottom\" height={28} />\n                      <Pie data={pieData} dataKey=\"value\" nameKey=\"name\" outerRadius=\"80%\" label>\n                        {pieData.map((_, i) => (\n                          <Cell key={i} fill={pieColors[i % pieColors.length]} />\n                        ))}\n                      </Pie>\n                    </PieChart>\n                  </ResponsiveContainer>\n                </Box>\n              </>\n            ) : (\n              <Typography color=\"text.secondary\">Hover a day to see details</Typography>\n            )}\n          </Box>\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}