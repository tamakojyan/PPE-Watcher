{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tamak\\\\Desktop\\\\Workspace\\\\ppe-watcher\\\\src\\\\pages\\\\History\\\\Trends\\\\index.tsx\",\n  _s = $RefreshSig$();\nimport { Chip, Grid, Typography, Button, Box } from '@mui/material';\nimport { useTheme } from '@mui/material';\nimport { mockViolations } from 'mock/violations';\nimport { ResponsiveContainer, BarChart, Bar, CartesianGrid, XAxis, YAxis, Tooltip, Legend, LineChart, Line } from 'recharts';\nimport { format, startOfDay } from 'date-fns';\nimport { useMemo, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst allTypes = ['No Mask', 'No Helmet', 'No Vest', 'No Gloves'];\nfunction groupByDay(violations) {\n  const map = new Map();\n  for (const v of violations) {\n    const d = startOfDay(new Date(v.timestamp));\n    const key = format(d, 'yyyy-MM-dd');\n    if (!map.has(key)) {\n      map.set(key, {\n        date: key,\n        total: 0,\n        open: 0,\n        resolved: 0,\n        byType: Object.fromEntries(allTypes.map(t => [t, 0]))\n      });\n    }\n    const bucket = map.get(key);\n    bucket.total += 1;\n    if (v.status === 'open') bucket.open += 1;else if (v.status === 'resolved') bucket.resolved += 1;\n    v.type.forEach(t => bucket.byType[t] += 1);\n  }\n  return Array.from(map.values()).sort((a, b) => a.date.localeCompare(b.date));\n}\nexport default function Trends() {\n  _s();\n  var _buckets$at;\n  const theme = useTheme();\n  const buckets = useMemo(() => groupByDay(mockViolations), []);\n  const [selected, setSelected] = useState((_buckets$at = buckets.at(-1)) !== null && _buckets$at !== void 0 ? _buckets$at : null);\n  const [chartType, setChartType] = React.useState('line');\n  const CustomTooltip = ({\n    active,\n    payload,\n    label\n  }) => active && payload !== null && payload !== void 0 && payload.length ? /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      p: 1.5,\n      bgcolor: 'background.paper',\n      borderRadius: 1,\n      boxShadow: 2\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"subtitle2\",\n      children: label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this), payload.map(p => /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body2\",\n      children: [p.name, \": \", p.value]\n    }, p.dataKey, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 7\n  }, this) : null;\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    container: true,\n    sx: {\n      flex: 1,\n      minHeight: 0,\n      bgcolor: 'background.paper'\n    },\n    direction: \"column\",\n    children: [/*#__PURE__*/_jsxDEV(Grid, {\n      size: {\n        xs: 12\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        variant: 'h6',\n        children: \"Trends\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      size: {\n        xs: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        size: {\n          xs: 12\n        },\n        sx: {\n          borderTop: '1px solid',\n          borderBottom: '1px solid'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          size: {\n            xs: 6,\n            md: 10\n          },\n          children: \"ToolBar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          size: {\n            xs: 6,\n            md: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            children: \"Generate\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            children: \"Export\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        size: {\n          xs: 12\n        },\n        children: /*#__PURE__*/_jsxDEV(Chip, {\n          label: 'TOOlBAR'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      size: {\n        xs: 12\n      },\n      sx: {\n        flex: 1,\n        minHeight: 0\n      },\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        size: {\n          xs: 12,\n          md: 10\n        },\n        sx: {\n          borderRight: '1px solid'\n        },\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            flex: 1,\n            minWidth: 0\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            sx: {\n              mb: 1\n            },\n            children: \"Chart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              height: 280\n            },\n            children: [/*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n              width: \"100%\",\n              height: \"100%\",\n              children: /*#__PURE__*/_jsxDEV(BarChart, {\n                data: buckets,\n                onClick: e => {\n                  var _e$activePayload, _e$activePayload$;\n                  // 点击柱子选中某天（activePayload 取第一项）\n                  const payload = e === null || e === void 0 ? void 0 : (_e$activePayload = e.activePayload) === null || _e$activePayload === void 0 ? void 0 : (_e$activePayload$ = _e$activePayload[0]) === null || _e$activePayload$ === void 0 ? void 0 : _e$activePayload$.payload;\n                  if (payload) setSelected(payload);\n                },\n                children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                  strokeDasharray: \"3 3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 125,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                  dataKey: \"date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                  allowDecimals: false\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                  content: /*#__PURE__*/_jsxDEV(CustomTooltip, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 128,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                  dataKey: \"open\",\n                  name: \"Open\",\n                  stackId: \"s\",\n                  fill: \"#f59e0b\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                  dataKey: \"resolved\",\n                  name: \"Resolved\",\n                  stackId: \"s\",\n                  fill: \"#22c55e\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n              width: \"100%\",\n              height: 360,\n              children: /*#__PURE__*/_jsxDEV(LineChart, {\n                data: buckets,\n                margin: {\n                  top: 12,\n                  right: 16,\n                  bottom: 12,\n                  left: 0\n                },\n                children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                  strokeDasharray: \"3 3\",\n                  strokeOpacity: 0.3\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 137,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                  dataKey: \"date\",\n                  tick: {\n                    fontSize: 12,\n                    fill: theme.palette.text.secondary\n                  },\n                  axisLine: {\n                    stroke: theme.palette.divider\n                  },\n                  tickLine: {\n                    stroke: theme.palette.divider\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                  allowDecimals: false,\n                  tick: {\n                    fontSize: 12,\n                    fill: theme.palette.text.secondary\n                  },\n                  axisLine: {\n                    stroke: theme.palette.divider\n                  },\n                  tickLine: {\n                    stroke: theme.palette.divider\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 144,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                  formatter: value => [value, ''],\n                  labelFormatter: label => `Date: ${label}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Legend, {\n                  verticalAlign: \"top\",\n                  height: 24\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Line, {\n                  type: \"monotone\",\n                  dataKey: \"total\",\n                  name: \"Total\",\n                  stroke: theme.palette.primary.main,\n                  strokeWidth: 2,\n                  dot: false,\n                  activeDot: {\n                    r: 4\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Line, {\n                  type: \"monotone\",\n                  dataKey: \"open\",\n                  name: \"Open\",\n                  stroke: theme.palette.error.main,\n                  strokeWidth: 2,\n                  dot: false,\n                  activeDot: {\n                    r: 4\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Line, {\n                  type: \"monotone\",\n                  dataKey: \"resolved\",\n                  name: \"Resolved\",\n                  stroke: theme.palette.success.main,\n                  strokeWidth: 2,\n                  dot: false,\n                  activeDot: {\n                    r: 4\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        size: {\n          xs: 12,\n          md: 2\n        },\n        children: \"details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n}\n_s(Trends, \"ihjloPyZrWst6J4LgQ1aYmeMDY8=\", false, function () {\n  return [useTheme];\n});\n_c = Trends;\nvar _c;\n$RefreshReg$(_c, \"Trends\");","map":{"version":3,"names":["Chip","Grid","Typography","Button","Box","useTheme","mockViolations","ResponsiveContainer","BarChart","Bar","CartesianGrid","XAxis","YAxis","Tooltip","Legend","LineChart","Line","format","startOfDay","useMemo","useState","jsxDEV","_jsxDEV","allTypes","groupByDay","violations","map","Map","v","d","Date","timestamp","key","has","set","date","total","open","resolved","byType","Object","fromEntries","t","bucket","get","status","type","forEach","Array","from","values","sort","a","b","localeCompare","Trends","_s","_buckets$at","theme","buckets","selected","setSelected","at","chartType","setChartType","React","CustomTooltip","active","payload","label","length","sx","p","bgcolor","borderRadius","boxShadow","children","variant","fileName","_jsxFileName","lineNumber","columnNumber","name","value","dataKey","container","flex","minHeight","direction","size","xs","borderTop","borderBottom","md","borderRight","minWidth","mb","height","width","data","onClick","e","_e$activePayload","_e$activePayload$","activePayload","strokeDasharray","allowDecimals","content","stackId","fill","margin","top","right","bottom","left","strokeOpacity","tick","fontSize","palette","text","secondary","axisLine","stroke","divider","tickLine","formatter","labelFormatter","verticalAlign","primary","main","strokeWidth","dot","activeDot","r","error","success","_c","$RefreshReg$"],"sources":["C:/Users/tamak/Desktop/Workspace/ppe-watcher/src/pages/History/Trends/index.tsx"],"sourcesContent":["import * as react from 'react';\nimport {\n  Chip,\n  Grid,\n  Stack,\n  Card,\n  CardHeader,\n  CardContent,\n  Typography,\n  Divider,\n  Button,\n  Box,\n} from '@mui/material';\nimport { useTheme } from '@mui/material';\nimport { mockViolations } from 'mock/violations';\nimport {\n  ResponsiveContainer,\n  BarChart,\n  Bar,\n  CartesianGrid,\n  XAxis,\n  YAxis,\n  Tooltip,\n  Legend,\n  LineChart,\n  Line,\n} from 'recharts';\nimport { format, startOfDay } from 'date-fns';\nimport { useMemo, useState } from 'react';\ntype violationData = {\n  id: string;\n  type: string[];\n  status: string;\n  handler: null | string;\n  timestamp: string;\n  imageUrl: string;\n};\nconst allTypes = ['No Mask', 'No Helmet', 'No Vest', 'No Gloves'] as const;\ntype PPEType = (typeof allTypes)[number];\ntype bucket = {\n  date: string;\n  total: number;\n  open: number;\n  resolved: number;\n  byType: Record<PPEType, number>;\n};\nfunction groupByDay(violations: violationData[]): bucket[] {\n  const map = new Map<string, bucket>();\n  for (const v of violations) {\n    const d = startOfDay(new Date(v.timestamp));\n    const key = format(d, 'yyyy-MM-dd');\n    if (!map.has(key)) {\n      map.set(key, {\n        date: key,\n        total: 0,\n        open: 0,\n        resolved: 0,\n        byType: Object.fromEntries(allTypes.map((t) => [t, 0])) as Record<string, number>,\n      });\n    }\n    const bucket = map.get(key)!;\n    bucket.total += 1;\n    if (v.status === 'open') bucket.open += 1;\n    else if (v.status === 'resolved') bucket.resolved += 1;\n    v.type.forEach((t) => (bucket.byType[t as PPEType] += 1));\n  }\n  return Array.from(map.values()).sort((a, b) => a.date.localeCompare(b.date));\n}\nexport default function Trends(): React.ReactElement {\n  const theme = useTheme();\n  const buckets = useMemo(() => groupByDay(mockViolations), []);\n  const [selected, setSelected] = useState<bucket | null>(buckets.at(-1) ?? null);\n  const [chartType, setChartType] = React.useState<'line' | 'bar'>('line');\n\n  const CustomTooltip = ({ active, payload, label }: any) =>\n    active && payload?.length ? (\n      <Box sx={{ p: 1.5, bgcolor: 'background.paper', borderRadius: 1, boxShadow: 2 }}>\n        <Typography variant=\"subtitle2\">{label}</Typography>\n        {payload.map((p: any) => (\n          <Typography key={p.dataKey} variant=\"body2\">\n            {p.name}: {p.value}\n          </Typography>\n        ))}\n      </Box>\n    ) : null;\n  return (\n    <Grid container sx={{ flex: 1, minHeight: 0, bgcolor: 'background.paper' }} direction=\"column\">\n      <Grid size={{ xs: 12 }}>\n        <Typography variant={'h6'}>Trends</Typography>\n      </Grid>\n      <Grid container size={{ xs: 12 }}>\n        <Grid\n          container\n          size={{ xs: 12 }}\n          sx={{ borderTop: '1px solid', borderBottom: '1px solid' }}\n        >\n          <Grid size={{ xs: 6, md: 10 }}>ToolBar</Grid>\n          <Grid size={{ xs: 6, md: 2 }}>\n            <Button>Generate</Button>\n            <Button>Export</Button>\n          </Grid>\n        </Grid>\n        <Grid size={{ xs: 12 }}>\n          <Chip label={'TOOlBAR'} />\n        </Grid>\n      </Grid>\n      <Grid container size={{ xs: 12 }} sx={{ flex: 1, minHeight: 0 }}>\n        <Grid size={{ xs: 12, md: 10 }} sx={{ borderRight: '1px solid' }}>\n          <Box sx={{ flex: 1, minWidth: 0 }}>\n            <Typography variant=\"subtitle1\" sx={{ mb: 1 }}>\n              Chart\n            </Typography>\n\n            {/* 柱状图（堆叠：open/resolved） */}\n            <Box sx={{ height: 280 }}>\n              <ResponsiveContainer width=\"100%\" height=\"100%\">\n                <BarChart\n                  data={buckets}\n                  onClick={(e: any) => {\n                    // 点击柱子选中某天（activePayload 取第一项）\n                    const payload = e?.activePayload?.[0]?.payload as bucket | undefined;\n                    if (payload) setSelected(payload);\n                  }}\n                >\n                  <CartesianGrid strokeDasharray=\"3 3\" />\n                  <XAxis dataKey=\"date\" />\n                  <YAxis allowDecimals={false} />\n                  <Tooltip content={<CustomTooltip />} />\n                  <Legend />\n                  {/* 你也可以只画 total */}\n                  <Bar dataKey=\"open\" name=\"Open\" stackId=\"s\" fill=\"#f59e0b\" />\n                  <Bar dataKey=\"resolved\" name=\"Resolved\" stackId=\"s\" fill=\"#22c55e\" />\n                </BarChart>\n              </ResponsiveContainer>\n              <ResponsiveContainer width=\"100%\" height={360}>\n                <LineChart data={buckets} margin={{ top: 12, right: 16, bottom: 12, left: 0 }}>\n                  <CartesianGrid strokeDasharray=\"3 3\" strokeOpacity={0.3} />\n                  <XAxis\n                    dataKey=\"date\"\n                    tick={{ fontSize: 12, fill: theme.palette.text.secondary }}\n                    axisLine={{ stroke: theme.palette.divider }}\n                    tickLine={{ stroke: theme.palette.divider }}\n                  />\n                  <YAxis\n                    allowDecimals={false}\n                    tick={{ fontSize: 12, fill: theme.palette.text.secondary }}\n                    axisLine={{ stroke: theme.palette.divider }}\n                    tickLine={{ stroke: theme.palette.divider }}\n                  />\n                  <Tooltip\n                    formatter={(value: any) => [value as number, '']}\n                    labelFormatter={(label: string) => `Date: ${label}`}\n                  />\n                  <Legend verticalAlign=\"top\" height={24} />\n\n                  {/* 三条折线：Total / Open / Resolved */}\n                  <Line\n                    type=\"monotone\"\n                    dataKey=\"total\"\n                    name=\"Total\"\n                    stroke={theme.palette.primary.main}\n                    strokeWidth={2}\n                    dot={false}\n                    activeDot={{ r: 4 }}\n                  />\n                  <Line\n                    type=\"monotone\"\n                    dataKey=\"open\"\n                    name=\"Open\"\n                    stroke={theme.palette.error.main}\n                    strokeWidth={2}\n                    dot={false}\n                    activeDot={{ r: 4 }}\n                  />\n                  <Line\n                    type=\"monotone\"\n                    dataKey=\"resolved\"\n                    name=\"Resolved\"\n                    stroke={theme.palette.success.main}\n                    strokeWidth={2}\n                    dot={false}\n                    activeDot={{ r: 4 }}\n                  />\n                </LineChart>\n              </ResponsiveContainer>\n            </Box>\n          </Box>\n        </Grid>\n        <Grid size={{ xs: 12, md: 2 }}>details</Grid>\n      </Grid>\n    </Grid>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}