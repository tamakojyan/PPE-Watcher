{"ast":null,"code":"'use client';\n\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"clearable\", \"onClear\", \"openPickerAriaLabel\"];\nimport * as React from 'react';\nimport useEventCallback from '@mui/utils/useEventCallback';\nimport { useDateManager, useDateTimeManager, useTimeManager } from '@mui/x-date-pickers/managers';\nimport { useField, useNullableFieldPrivateContext, useNullablePickerContext, usePickerPrivateContext } from '@mui/x-date-pickers/internals';\nimport { useNullablePickerRangePositionContext } from \"../../internals/hooks/useNullablePickerRangePositionContext.js\";\n/**\n * @ignore - internal hook.\n */\nexport function useTextFieldProps(parameters) {\n  const pickerContext = useNullablePickerContext();\n  const fieldPrivateContext = useNullableFieldPrivateContext();\n  const pickerPrivateContext = usePickerPrivateContext();\n  const rangePositionContext = useNullablePickerRangePositionContext();\n  const rangePosition = rangePositionContext?.rangePosition ?? 'start';\n  const setRangePosition = rangePositionContext?.setRangePosition;\n  const previousRangePosition = React.useRef(rangePosition);\n  const {\n    forwardedProps,\n    sharedInternalProps,\n    selectedSectionProps,\n    valueType,\n    position,\n    value,\n    onChange,\n    autoFocus,\n    validation\n  } = parameters;\n  let useManager;\n  switch (valueType) {\n    case 'date':\n      {\n        useManager = useDateManager;\n        break;\n      }\n    case 'time':\n      {\n        useManager = useTimeManager;\n        break;\n      }\n    case 'date-time':\n      {\n        useManager = useDateTimeManager;\n        break;\n      }\n    default:\n      {\n        throw new Error(`Unknown valueType: ${valueType}`);\n      }\n  }\n  const manager = useManager({\n    enableAccessibleFieldDOMStructure: sharedInternalProps.enableAccessibleFieldDOMStructure\n  });\n  const openPickerIfPossible = event => {\n    if (!pickerContext) {\n      return;\n    }\n    setRangePosition?.(position);\n    if (pickerContext.triggerStatus === 'enabled') {\n      event.preventDefault();\n      pickerContext.setOpen(true);\n    }\n  };\n  const handleKeyDown = useEventCallback(event => {\n    if (event.key === 'Enter' || event.key === ' ') {\n      openPickerIfPossible(event);\n    }\n  });\n\n  // Registering `onClick` listener on the root element as well to correctly handle cases where user is clicking on `label`\n  // which has `pointer-events: none` and due to DOM structure the `input` does not catch the click event\n  const handleClick = useEventCallback(event => {\n    openPickerIfPossible(event);\n  });\n  const handleFocus = useEventCallback(event => {\n    forwardedProps.onFocus?.(event);\n    if (pickerContext?.open) {\n      setRangePosition?.(position);\n      if (previousRangePosition.current !== position && pickerContext.initialView) {\n        pickerContext.setView?.(pickerContext.initialView);\n      }\n    }\n  });\n  const handleChange = useEventCallback((newSingleValue, rawContext) => {\n    const newRange = position === 'start' ? [newSingleValue, value[1]] : [value[0], newSingleValue];\n    const context = _extends({}, rawContext, {\n      validationError: validation.getValidationErrorForNewValue(newRange)\n    });\n    onChange(newRange, context);\n  });\n  const allProps = _extends({\n    value: position === 'start' ? value[0] : value[1],\n    error: position === 'start' ? !!validation.validationError[0] : !!validation.validationError[1],\n    id: `${pickerPrivateContext.labelId}-${position}`,\n    autoFocus: position === 'start' ? autoFocus : undefined\n  }, forwardedProps, sharedInternalProps, selectedSectionProps, {\n    onClick: handleClick,\n    onFocus: handleFocus,\n    onKeyDown: handleKeyDown,\n    onChange: handleChange\n  });\n  const _ref = useField({\n      manager,\n      props: allProps,\n      skipContextFieldRefAssignment: rangePosition !== position\n    }),\n    fieldResponse = _objectWithoutPropertiesLoose(_ref, _excluded);\n  React.useEffect(() => {\n    if (!pickerContext?.open || pickerContext?.variant === 'mobile') {\n      return;\n    }\n    fieldPrivateContext?.fieldRef.current?.focusField();\n    if (!fieldPrivateContext?.fieldRef.current || pickerContext.view === pickerContext.initialView) {\n      // could happen when the user is switching between the inputs\n      previousRangePosition.current = rangePosition;\n      return;\n    }\n\n    // bring back focus to the field\n    // currentView is present on DateTimeRangePicker\n    fieldPrivateContext?.fieldRef.current.setSelectedSections(\n    // use the current view or `0` when the range position has just been swapped\n    previousRangePosition.current === rangePosition ? pickerContext.view : 0);\n    previousRangePosition.current = rangePosition;\n  }, [rangePosition, pickerContext?.open, pickerContext?.variant, pickerContext?.initialView, pickerContext?.view, fieldPrivateContext?.fieldRef]);\n  return fieldResponse;\n}","map":{"version":3,"names":["_objectWithoutPropertiesLoose","_extends","_excluded","React","useEventCallback","useDateManager","useDateTimeManager","useTimeManager","useField","useNullableFieldPrivateContext","useNullablePickerContext","usePickerPrivateContext","useNullablePickerRangePositionContext","useTextFieldProps","parameters","pickerContext","fieldPrivateContext","pickerPrivateContext","rangePositionContext","rangePosition","setRangePosition","previousRangePosition","useRef","forwardedProps","sharedInternalProps","selectedSectionProps","valueType","position","value","onChange","autoFocus","validation","useManager","Error","manager","enableAccessibleFieldDOMStructure","openPickerIfPossible","event","triggerStatus","preventDefault","setOpen","handleKeyDown","key","handleClick","handleFocus","onFocus","open","current","initialView","setView","handleChange","newSingleValue","rawContext","newRange","context","validationError","getValidationErrorForNewValue","allProps","error","id","labelId","undefined","onClick","onKeyDown","_ref","props","skipContextFieldRefAssignment","fieldResponse","useEffect","variant","fieldRef","focusField","view","setSelectedSections"],"sources":["C:/Users/tamak/Desktop/Workspace/ppe-watcher/node_modules/@mui/x-date-pickers-pro/esm/hooks/useMultiInputRangeField/useTextFieldProps.js"],"sourcesContent":["'use client';\n\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"clearable\", \"onClear\", \"openPickerAriaLabel\"];\nimport * as React from 'react';\nimport useEventCallback from '@mui/utils/useEventCallback';\nimport { useDateManager, useDateTimeManager, useTimeManager } from '@mui/x-date-pickers/managers';\nimport { useField, useNullableFieldPrivateContext, useNullablePickerContext, usePickerPrivateContext } from '@mui/x-date-pickers/internals';\nimport { useNullablePickerRangePositionContext } from \"../../internals/hooks/useNullablePickerRangePositionContext.js\";\n/**\n * @ignore - internal hook.\n */\nexport function useTextFieldProps(parameters) {\n  const pickerContext = useNullablePickerContext();\n  const fieldPrivateContext = useNullableFieldPrivateContext();\n  const pickerPrivateContext = usePickerPrivateContext();\n  const rangePositionContext = useNullablePickerRangePositionContext();\n  const rangePosition = rangePositionContext?.rangePosition ?? 'start';\n  const setRangePosition = rangePositionContext?.setRangePosition;\n  const previousRangePosition = React.useRef(rangePosition);\n  const {\n    forwardedProps,\n    sharedInternalProps,\n    selectedSectionProps,\n    valueType,\n    position,\n    value,\n    onChange,\n    autoFocus,\n    validation\n  } = parameters;\n  let useManager;\n  switch (valueType) {\n    case 'date':\n      {\n        useManager = useDateManager;\n        break;\n      }\n    case 'time':\n      {\n        useManager = useTimeManager;\n        break;\n      }\n    case 'date-time':\n      {\n        useManager = useDateTimeManager;\n        break;\n      }\n    default:\n      {\n        throw new Error(`Unknown valueType: ${valueType}`);\n      }\n  }\n  const manager = useManager({\n    enableAccessibleFieldDOMStructure: sharedInternalProps.enableAccessibleFieldDOMStructure\n  });\n  const openPickerIfPossible = event => {\n    if (!pickerContext) {\n      return;\n    }\n    setRangePosition?.(position);\n    if (pickerContext.triggerStatus === 'enabled') {\n      event.preventDefault();\n      pickerContext.setOpen(true);\n    }\n  };\n  const handleKeyDown = useEventCallback(event => {\n    if (event.key === 'Enter' || event.key === ' ') {\n      openPickerIfPossible(event);\n    }\n  });\n\n  // Registering `onClick` listener on the root element as well to correctly handle cases where user is clicking on `label`\n  // which has `pointer-events: none` and due to DOM structure the `input` does not catch the click event\n  const handleClick = useEventCallback(event => {\n    openPickerIfPossible(event);\n  });\n  const handleFocus = useEventCallback(event => {\n    forwardedProps.onFocus?.(event);\n    if (pickerContext?.open) {\n      setRangePosition?.(position);\n      if (previousRangePosition.current !== position && pickerContext.initialView) {\n        pickerContext.setView?.(pickerContext.initialView);\n      }\n    }\n  });\n  const handleChange = useEventCallback((newSingleValue, rawContext) => {\n    const newRange = position === 'start' ? [newSingleValue, value[1]] : [value[0], newSingleValue];\n    const context = _extends({}, rawContext, {\n      validationError: validation.getValidationErrorForNewValue(newRange)\n    });\n    onChange(newRange, context);\n  });\n  const allProps = _extends({\n    value: position === 'start' ? value[0] : value[1],\n    error: position === 'start' ? !!validation.validationError[0] : !!validation.validationError[1],\n    id: `${pickerPrivateContext.labelId}-${position}`,\n    autoFocus: position === 'start' ? autoFocus : undefined\n  }, forwardedProps, sharedInternalProps, selectedSectionProps, {\n    onClick: handleClick,\n    onFocus: handleFocus,\n    onKeyDown: handleKeyDown,\n    onChange: handleChange\n  });\n  const _ref = useField({\n      manager,\n      props: allProps,\n      skipContextFieldRefAssignment: rangePosition !== position\n    }),\n    fieldResponse = _objectWithoutPropertiesLoose(_ref, _excluded);\n  React.useEffect(() => {\n    if (!pickerContext?.open || pickerContext?.variant === 'mobile') {\n      return;\n    }\n    fieldPrivateContext?.fieldRef.current?.focusField();\n    if (!fieldPrivateContext?.fieldRef.current || pickerContext.view === pickerContext.initialView) {\n      // could happen when the user is switching between the inputs\n      previousRangePosition.current = rangePosition;\n      return;\n    }\n\n    // bring back focus to the field\n    // currentView is present on DateTimeRangePicker\n    fieldPrivateContext?.fieldRef.current.setSelectedSections(\n    // use the current view or `0` when the range position has just been swapped\n    previousRangePosition.current === rangePosition ? pickerContext.view : 0);\n    previousRangePosition.current = rangePosition;\n  }, [rangePosition, pickerContext?.open, pickerContext?.variant, pickerContext?.initialView, pickerContext?.view, fieldPrivateContext?.fieldRef]);\n  return fieldResponse;\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}